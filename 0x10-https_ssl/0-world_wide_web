#!/bin/bash

# Function to display DNS information
get_dns_info() {
  local subdomain=$1
  local domain=$2
  local record=$(dig +short $subdomain.$domain)
  local record_type=$(dig +short -t A $subdomain.$domain | awk '{print "A"}')
  
  if [[ -z $record ]]; then
    echo "No record found for $subdomain.$domain"
  else
    echo "The subdomain $subdomain is a $record_type record and points to $record"
  fi
}

# Check if domain is provided
if [ -z "$1" ]; then
  echo "Domain is required"
  exit 1
fi

domain=$1
subdomain=$2

# If subdomain is provided
if [ ! -z "$subdomain" ]; then
  get_dns_info $subdomain $domain
else
  # Default subdomains
  for sub in www lb-01 web-01 web-02; do
    get_dns_info $sub $domain
  done
fi

